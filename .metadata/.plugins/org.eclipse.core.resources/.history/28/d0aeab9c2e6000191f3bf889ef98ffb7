#include "../libraries/L_STD_TYPES.h"
#include "../libraries/L_UTILS.h"
#include "../MCAL/MDIO_interface.h"
#include "HLCD_private.h"
#include "HLCD_interface.h"

#if HLCD_MODE == HLCD_8_BIT

// LCD in 8-bit mode

void HLCD_init(void) {
	// set PORTA as OUTPUT
	MDIO_SetPinDirection(PORTA, 0, OUTPUT);
	MDIO_SetPinDirection(PORTA, 1, OUTPUT);
	MDIO_SetPinDirection(PORTA, 2, OUTPUT);
	MDIO_SetPinDirection(PORTA, 3, OUTPUT);
	MDIO_SetPinDirection(PORTA, 4, OUTPUT);
	MDIO_SetPinDirection(PORTA, 5, OUTPUT);
	MDIO_SetPinDirection(PORTA, 6, OUTPUT);
	MDIO_SetPinDirection(PORTA, 7, OUTPUT);
	// set RW as OUTPUT
	MDIO_SetPinDirection(PORTB, 2, OUTPUT);
	// set RW to (0)
	MDIO_SetPinOutput(PORTB, 2, LOW);
	// set RS as OUTPUT
	MDIO_SetPinDirection(PORTB, 0, OUTPUT);
	// set E as OUTPUT
	MDIO_SetPinDirection(PORTB, 1, OUTPUT);
	// set E to (0)
	MDIO_SetPinOutput(PORTB, 1, LOW);
	return;
}// end HLCD_init

void HLCD_writeCMD(uint8 cmd) {
	MDIO_SetPortValue(PORTA, cmd);
	return;
}// end HLCD_writeCMD

void HLCD_writeData(uint8 data) {
	return;
}// end HLCD_writeData

#else if HLCD_MODE == HLCD_4_BIT
// LCD in 4-bit mode

void HLCD_init(void) {
	// set PORTA(D4, ..., D7) as OUTPUT
	MDIO_SetPinDirection(PORTA, 4, OUTPUT);
	MDIO_SetPinDirection(PORTA, 5, OUTPUT);
	MDIO_SetPinDirection(PORTA, 6, OUTPUT);
	MDIO_SetPinDirection(PORTA, 7, OUTPUT);
	// set RW as OUTPUT
	MDIO_SetPinDirection(PORTB, 2, OUTPUT);
	// set RW to (0)
	MDIO_SetPinOutput(PORTB, 2, LOW);
	// set RS as OUTPUT
	MDIO_SetPinDirection(PORTB, 0, OUTPUT);
	// set E as OUTPUT
	MDIO_SetPinDirection(PORTB, 1, OUTPUT);
	// set E to (0)
	MDIO_SetPinOutput(PORTB, 1, LOW);
	return;
}// end HLCD_init

void HLCD_writeCMD(uint8 cmd) {
	return;
}// end HLCD_writeCMD

void HLCD_writeData(uint8 data) {
	return;
}// end HLCD_writeData

#endif
